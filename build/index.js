!function(t){function e(e){for(var r,i,u=e[0],a=e[1],f=e[2],s=0,p=[];s<u.length;s++)i=u[s],o[i]&&p.push(o[i][0]),o[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);for(l&&l(e);p.length;)p.shift()();return c.push.apply(c,f||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,u=1;u<n.length;u++){var a=n[u];0!==o[a]&&(r=!1)}r&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},c=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var l=a;c.push([51,1]),n()}({51:function(t,e,n){n(52),t.exports=n(72)},72:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"getRunning",function(){return d}),n.d(r,"getTimeMicro",function(){return O}),n.d(r,"getTimeMilli",function(){return j}),n.d(r,"getTimeSecs",function(){return h}),n.d(r,"getRate",function(){return m});var o=n(0),c=n(27),i=n(46),u=n(37),a=n(22),f=n(15),l=n(77),s=n(50),p=n(14),b="timer/TOGGLE",y=function(t){return Object(p.action)("timer/TICK",t)},d=function(t){return t.running},O=function(t){return t.time},j=function(t){return O(t)/1e3},h=function(t){return j(t)/1e3},m=function(t){return t.rate},v={time:0,rate:1,running:!1},g=n(59),E=n(78),T=n(73),w=n(74),S=n(75),_=n(7),P=Object(E.a)(function(t,e,n){var r=(0,n.timer)(10).pipe(Object(T.a)(t.pipe(Object(g.a)(b))));return t.pipe(Object(g.a)(b),Object(w.a)(function(t,e){return e%2==0}),Object(S.a)(function(){return r}),Object(_.a)(y))}),M=(Object(p.createAction)("entities/CREATE_ENTITY",function(t){return function(e,n){return t({entityType:e,props:n})}}),Object(p.createAction)("entities/UPDATE_ENTITY",function(t){return function(e,n){return t({entityType:e,props:n})}}),Object(p.createAction)("entities/DELETE_ENTITY",function(t){return function(e,n){return t({entityType:e,id:n})}}),n(8)),I={},R=Object(f.combineReducers)({timer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object.assign({},t,{running:!t.running});case"timer/TICK":return Object.assign({},t,{time:t.time+t.rate*e.payload});case"timer/SET_RATE":return Object.assign({},t,{rate:e.payload});case"timer/SET_TIME":return Object.assign({},t,{time:e.payload});default:return t}},entities:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"entities/CREATE_ENTITY":return function(t,e){var n=e.payload,r=n.entityType,o=n.props;return Object(M.g)(Object(M.j)(Object(M.c)(r),Object(M.h)(Object(M.e)(r),{ids:[],byId:{}})),Object(M.h)(Object(M.d)([r,"byId",o.id]),o),Object(M.f)(Object(M.d)([r,"ids"]),Object(M.i)([o.id])))(t)}(t,e);case"entities/UPDATE_ENTITY":return function(t,e){var n=e.payload,r=n.entityType,o=n.props;return Object(M.g)(Object(M.l)(Object(M.k)(Object(M.d)([r,"byId",o.id])),Object(M.f)(Object(M.d)([r,"byId",o.id]),function(t){return Object.assign({},t,o)})))(t)}(t,e);case"entities/DELETE_ENTITY":return function(t,e){var n=e.payload,r=n.entityType,o=n.id;return Object(M.g)(Object(M.f)(Object(M.d)([r,"byId"]),Object(M.b)(o)),Object(M.f)(Object(M.d)([r,"ids"]),Object(M.m)([o])))(t)}(t,e);default:return t}}}),x=Object(E.a)(P),A=n(76),D=n(79),C=n(80);function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,c=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,c=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=function(){return Math.floor(1e3*performance.now())},Y={timer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.a;return Object(C.a)(0,t,n).pipe(Object(_.a)(e),Object(A.a)(),Object(_.a)(function(t){var e=k(t,2),n=e[0];return e[1]-n}))}},z=Object(l.a)({dependencies:Y});function L(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  background-color: white;\n"]);return L=function(){return t},t}var F=Object(u.b)(function(t){var e=t.children,n=t.className;return o.createElement("section",{className:n},o.createElement("div",null,e))})(L()),G=function(t){var e=t.error;return o.createElement("span",null,"Error = ",e.message)},J=(new Date,Object(M.a)(function(t,e){var n=t.secondDecimals,r=Math.floor(e/36e5),o=Math.floor((e-36e5*r)/6e4),c=Math.floor((e-36e5*r-6e4*o)/1e3),i=["".concat(r).padStart(2,"0").slice(-2),":","".concat(o).padStart(2,"0"),":","".concat(c).padStart(2,"0")];if(n>0){var u=Math.floor(e%1e3);if(i.push("."),i.push("".concat(u).padStart(3,"0").slice(0,n)),n>3){var a=Math.floor(e)!==e?e.toString().split(".")[1]:0;i.push("".concat(a).slice(0,n-3))}}return i.join("")})({secondDecimals:3})),K=Object(a.b)(function(t){return{time:r.getTimeMilli(t.timer)}})(function(t){var e=t.time;return o.createElement(o.Fragment,null,J(e))}),U=Object(a.b)(function(t){return{running:r.getRunning(t.timer)}},function(t){return{onClick:function(){return t(Object(p.action)(b))}}})(function(t){var e=t.onClick,n=t.running;return o.createElement("button",{onClick:e},n?"Stop":"Start")});function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=W(this,q(e).call(this,t))).state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,o["Component"]),function(t,e,n){e&&H(t.prototype,e),n&&H(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this;this.props.stage().then(function(e){t.setState({store:function(t){var e=Object(f.createStore)(R,t,Object(s.composeWithDevTools)(Object(f.applyMiddleware)(z)));return z.run(x),e}(e)})}).catch(function(e){return t.setState({error:e})})}},{key:"render",value:function(){return this.state.error?o.createElement(G,{error:this.state.error}):this.state.store?o.createElement(a.a,{store:this.state.store},o.createElement(F,Object.assign({},this.props),o.createElement(K,null),o.createElement(U,null))):o.createElement("span",null,"LOADING")}}]),e}(),X=n(66),Z=n.n(X);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){var e="function"==typeof Map?new Map:void 0;return(et=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return nt(t,arguments,ot(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),rt(n,t)})(t)}function nt(t,e,n){return(nt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&rt(o,n.prototype),o}).apply(null,arguments)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ct=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=tt(this,ot(e).call(this))).name="HttpError",n.response=t,n.code=t.status,n.message="".concat(t.status," - ").concat(t.url,": ").concat(t.statusText),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,et(Error)),e}(),it=function(t){return t.status>=200&&t.status<300?Promise.resolve(t):Promise.reject(new ct(t))},ut=function(){return new Promise(function(t,e){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.search,e=Z.a.parse(t);return Object.assign({},{stage:""},e)}().stage;n?function(t,e){return fetch(t,e).then(it)}(n).then(function(t){return t.json()}).then(function(e){return t(Object.assign({},e))}):e(new Error("No stage specified"))})};function at(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  html, body {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n  }"]);return at=function(){return t},t}var ft=Object(u.a)(at()),lt=document.getElementById("root");!function(t){c.render(o.createElement(i.AppContainer,null,o.createElement(t,null)),lt)}(function(){return o.createElement(V,{stage:ut},o.createElement(ft,null),o.createElement("span",null,"A stageplayer child!"))})}});
//# sourceMappingURL=index.js.map